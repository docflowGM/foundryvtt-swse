/* ============================================================================
 * SWSE Canvas UI Layout Fixes
 * Fixes for Foundry VTT Canvas UI sidebar layout issues
 * ============================================================================ */

/* Right UI Container - Contains the sidebar */
#ui-right {
  display: flex !important;
  flex-direction: column !important;
  top: 0 !important;
  bottom: 0 !important;
  right: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
  height: 100vh !important;
  max-height: 100vh !important;
  pointer-events: auto !important;
}

/* Main Sidebar Container */
#sidebar {
  display: flex !important;
  flex-direction: column !important;
  height: 100% !important;
  max-height: 100% !important;
  padding-top: 0 !important;
  margin-top: 0 !important;
  overflow: hidden !important;
}

/* Sidebar Tabs Navigation */
#sidebar nav.tabs {
  flex-shrink: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* All Sidebar Tab Panels */
#sidebar .sidebar-tab[data-tab] {
  display: none !important;
  flex-direction: column !important;
  height: auto !important;
  max-height: none !important;
  overflow-x: hidden !important;
  overflow-y: auto !important;
  padding-top: 0 !important;
  margin-top: 0 !important;
}

/* Active Sidebar Tab */
#sidebar .sidebar-tab[data-tab].active {
  display: flex !important;
  flex: 1 1 auto !important;
  min-height: 0 !important;
}

/* Directory Tabs (Actors, Items, Journal, etc.) */
#sidebar .sidebar-tab[data-tab].directory {
  flex: 1 1 auto !important;
  height: auto !important;
  min-height: 0 !important;
}

/* Directory Header */
#sidebar .directory-header,
#sidebar .directory-header.keep-collapsed {
  flex-shrink: 0 !important;
  margin-top: 0 !important;
  padding-top: 4px !important;
}

/* Directory List */
#sidebar .directory-list,
#sidebar #scenes .directory-list,
#sidebar #actors .directory-list,
#sidebar #items .directory-list,
#sidebar #journal .directory-list,
#sidebar #tables .directory-list,
#sidebar #cards .directory-list,
#sidebar #playlists .directory-list,
#sidebar #compendium .directory-list {
  flex: 1 1 auto !important;
  height: auto !important;
  max-height: none !important;
  min-height: 0 !important;
  overflow-x: hidden !important;
  overflow-y: auto !important;
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Chat Tab Specific Fixes */
#sidebar .sidebar-tab[data-tab]#chat {
  padding-top: 0 !important;
  display: flex !important;
  flex-direction: column !important;
}

#sidebar .sidebar-tab[data-tab]#chat.active {
  flex: 1 1 auto !important;
}

/* Chat Log */
#sidebar #chat-log {
  flex: 1 1 auto !important;
  min-height: 0 !important;
  max-height: none !important;
  overflow-y: auto !important;
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Chat Controls */
#sidebar #chat-controls {
  flex-shrink: 0 !important;
  margin-bottom: 0 !important;
}

/* Chat Form */
#sidebar #chat-form {
  flex-shrink: 0 !important;
}

/* Combat Tracker */
#sidebar #combat-tracker {
  flex: 1 1 auto !important;
  height: auto !important;
  max-height: none !important;
  min-height: 0 !important;
  overflow-x: hidden !important;
  overflow-y: auto !important;
}

/* Left UI Container - Scene Controls */
#ui-left {
  display: flex !important;
  flex-direction: column !important;
  pointer-events: auto !important;
  left: 0 !important;
  top: 0 !important;
  padding-left: 0 !important;
  margin-left: 0 !important;
}

/* Scene Controls */
#controls {
  margin-left: 0 !important;
  padding-left: 0 !important;
  left: 0 !important;
}

#controls .scene-control,
#controls .control-tools {
  margin-left: 0 !important;
}

#controls ol.control-tools {
  padding-left: 0 !important;
  margin-left: 0 !important;
}

#controls .scene-control {
  padding-left: 0 !important;
}

/* Top UI Container */
#ui-top {
  top: 0 !important;
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Bottom UI Container */
#ui-bottom {
  bottom: 0 !important;
  margin-bottom: 0 !important;
  padding-bottom: 0 !important;
}

/* Hotbar */
#hotbar {
  margin-bottom: 0 !important;
}

/* Players List */
#players {
  margin-bottom: 0 !important;
}

/* Pause Overlay - ensure it doesn't affect layout */
#pause {
  pointer-events: none !important;
}

/* Loading Bar */
#loading {
  pointer-events: none !important;
}

/* Notifications */
#notifications {
  pointer-events: none !important;
}

#notifications .notification {
  pointer-events: auto !important;
}
