<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SWSE Character Sheet - Foundry VTT Compatible</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Arial', sans-serif;
            background: #1a1a1a;
            color: #333;
            padding: 20px;
        }

        .character-sheet {
            max-width: 1200px;
            margin: 0 auto;
            background: linear-gradient(135deg, #e8e8e8 0%, #d4d4d4 100%);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            position: relative;
        }

        .character-sheet::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: linear-gradient(90deg, #4a4a4a, #6a6a6a, #4a4a4a);
        }

        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid #4a4a4a;
        }

        .header h1 {
            font-size: 20px;
            letter-spacing: 3px;
            color: #2a2a2a;
            text-transform: uppercase;
        }

        .header .subtitle {
            font-size: 10px;
            color: #666;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .header .actions {
            display: flex;
            gap: 8px;
        }

        .header .actions button {
            background: linear-gradient(135deg, #4a90e2, #357abd);
            border: 2px solid #2a5a8d;
            border-radius: 4px;
            color: white;
            padding: 6px 12px;
            cursor: pointer;
            font-weight: bold;
            font-size: 10px;
        }

        .basic-info {
            display: grid;
            grid-template-columns: 2fr 1.5fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .basic-info .left,
        .basic-info .middle,
        .basic-info .right {
            background: rgba(255,255,255,0.3);
            padding: 12px;
            border-radius: 6px;
            border: 2px solid #666;
        }

        .field-group {
            margin-bottom: 10px;
        }

        .field-label, label {
            font-size: 9px;
            font-weight: bold;
            text-transform: uppercase;
            color: #555;
            display: block;
            margin-bottom: 3px;
        }

        .field-input, input[type="text"], input[type="number"], select {
            width: 100%;
            background: white;
            border: 2px solid #666;
            border-radius: 4px;
            padding: 6px 8px;
            font-size: 13px;
            font-weight: 500;
            box-shadow: inset 2px 2px 4px rgba(0,0,0,0.1);
        }

        .tiny-input {
            width: 60px !important;
        }

        .class-list {
            background: white;
            border: 2px solid #666;
            border-radius: 4px;
            padding: 8px;
            min-height: 40px;
        }

        .class-row {
            font-size: 12px;
            padding: 4px;
            background: rgba(74, 144, 226, 0.1);
            margin-bottom: 4px;
            border-radius: 3px;
        }

        .main-layout {
            display: grid;
            grid-template-columns: 260px 1fr 280px;
            gap: 20px;
            margin-bottom: 20px;
        }

        .section-box, .abilities-box, .combat-box, .combat-right {
            background: linear-gradient(135deg, #b8b8b8, #c8c8c8);
            border: 3px solid #4a4a4a;
            border-radius: 8px;
            padding: 12px;
            box-shadow: 4px 4px 8px rgba(0,0,0,0.2);
        }

        .section-title {
            font-size: 11px;
            font-weight: bold;
            text-transform: uppercase;
            color: #2a2a2a;
            margin-bottom: 10px;
            text-align: center;
            letter-spacing: 1px;
            border-bottom: 2px solid #4a4a4a;
            padding-bottom: 5px;
        }

        .ability-row {
            display: grid;
            grid-template-columns: 35px 60px 60px 60px;
            gap: 6px;
            margin-bottom: 8px;
            align-items: center;
        }

        .ability-label {
            font-size: 11px;
            font-weight: bold;
            color: #2a2a2a;
            text-transform: uppercase;
        }

        .ability-input {
            background: white;
            border: 2px solid #555;
            border-radius: 3px;
            padding: 6px;
            text-align: center;
            font-size: 12px;
            font-weight: bold;
            width: 100%;
        }

        .ability-total, .ability-mod {
            background: linear-gradient(135deg, #666, #555);
            color: white;
            border: 2px solid #333;
            border-radius: 3px;
            padding: 6px;
            text-align: center;
            font-size: 11px;
            font-weight: bold;
        }

        .stat-row {
            text-align: center;
            margin-bottom: 15px;
        }

        .half-value {
            background: white;
            border: 3px solid #555;
            border-radius: 6px;
            padding: 10px;
            font-size: 20px;
            font-weight: bold;
            text-align: center;
            box-shadow: inset 2px 2px 4px rgba(0,0,0,0.15);
            margin-top: 5px;
        }

        .hp-block, .force-and-dt {
            background: rgba(255,255,255,0.3);
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 12px;
        }

        .hp-row {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }

        .hp-small {
            width: 70px;
            padding: 6px;
            text-align: center;
        }

        .hp-actions {
            display: grid;
            grid-template-columns: auto 1fr auto 1fr;
            gap: 8px;
            align-items: center;
        }

        .force-block, .dt-block {
            margin-bottom: 10px;
        }

        .fp-small {
            width: 50px;
            padding: 4px;
            text-align: center;
            display: inline-block;
        }

        .fp-die {
            width: 70px;
            padding: 4px;
            margin-left: 5px;
        }

        .force-note {
            font-size: 9px;
            font-style: italic;
            color: #666;
            margin-top: 4px;
        }

        .dt-value {
            background: white;
            border: 2px solid #555;
            border-radius: 4px;
            padding: 8px;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            margin: 5px 0;
        }

        .def-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            background: rgba(255,255,255,0.3);
            border-radius: 4px;
            margin-bottom: 8px;
        }

        .def-row label {
            font-size: 12px;
            font-weight: bold;
            color: #2a2a2a;
        }

        .def-value {
            background: linear-gradient(135deg, #666, #555);
            color: white;
            border: 2px solid #333;
            padding: 8px 16px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 16px;
        }

        .condition-box {
            margin-top: 15px;
            padding: 12px;
            background: linear-gradient(135deg, #d44, #b33);
            border: 3px solid #4a4a4a;
            border-radius: 6px;
        }

        .condition-box label {
            color: white;
            margin-bottom: 8px;
        }

        .condition-box select {
            width: 100%;
            padding: 8px;
            font-weight: bold;
        }

        .second-wind-box {
            margin-top: 15px;
            padding: 12px;
            background: linear-gradient(135deg, #f7e6e6, #f2dede);
            border: 3px solid #a44;
            border-radius: 6px;
        }

        .second-wind-box .section-title {
            font-size: 10px;
            color: #822;
            border-bottom-color: #a44;
        }

        .apply-second-wind {
            width: 100%;
            margin-top: 10px;
            padding: 8px;
            background: linear-gradient(135deg, #4a90e2, #357abd);
            border: 2px solid #2a5a8d;
            border-radius: 4px;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }

        .tabs {
            margin-top: 20px;
        }

        .tab-row {
            display: flex;
            gap: 5px;
            margin-bottom: 0;
            border-bottom: 3px solid #4a4a4a;
        }

        .tab {
            background: linear-gradient(135deg, #999, #888);
            border: 2px solid #4a4a4a;
            border-bottom: none;
            border-radius: 6px 6px 0 0;
            padding: 8px 16px;
            font-size: 11px;
            font-weight: bold;
            text-transform: uppercase;
            cursor: pointer;
            color: #2a2a2a;
        }

        .tab.active {
            background: linear-gradient(135deg, #c8c8c8, #b8b8b8);
            transform: translateY(2px);
        }

        .tab-content {
            display: none;
            background: linear-gradient(135deg, #b8b8b8, #c8c8c8);
            border: 3px solid #4a4a4a;
            border-radius: 0 8px 8px 8px;
            padding: 15px;
            min-height: 300px;
            max-height: 600px;
            overflow-y: auto;
        }

        .tab-content.active {
            display: block;
        }

        .add-armor, .add-feat, .add-weapon, .refresh-forcepowers {
            background: linear-gradient(135deg, #4a90e2, #357abd);
            border: 2px solid #2a5a8d;
            border-radius: 4px;
            color: white;
            padding: 8px 16px;
            cursor: pointer;
            font-weight: bold;
            font-size: 11px;
            margin-bottom: 12px;
        }

        .add-armor:hover, .add-feat:hover, .add-weapon:hover {
            background: linear-gradient(135deg, #5aa0f2, #4580cd);
        }

        .armor-entry, .feat-entry, .forcepower-entry, .weapon-entry {
            background: rgba(255,255,255,0.4);
            border: 2px solid #666;
            border-radius: 4px;
            padding: 10px;
            margin-bottom: 8px;
        }

        .power-header {
            font-weight: bold;
            font-size: 13px;
            margin-bottom: 8px;
        }

        .roll-forcepower, .reload-forcepower, .roll-weapon {
            background: linear-gradient(135deg, #4a90e2, #357abd);
            border: 2px solid #2a5a8d;
            border-radius: 3px;
            color: white;
            padding: 6px 12px;
            cursor: pointer;
            font-weight: bold;
            font-size: 10px;
            margin-right: 6px;
        }

        .sheet-footer {
            margin-top: 20px;
            padding-top: 10px;
            border-top: 2px solid #4a4a4a;
            text-align: center;
            font-size: 10px;
            color: #666;
        }

        /* Additional utility styles */
        .list-armor, .feats-list {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <!-- This template is designed to work with Foundry VTT Handlebars -->
    <!-- Replace {{variables}} with actual Handlebars syntax when integrating -->
    
    <div class="character-sheet">
        <div class="header">
            <div>
                <h1>★ Star Wars Saga Edition ★</h1>
                <div class="subtitle">CHARACTER RECORD SHEET</div>
            </div>
            <div class="actions">
                <button class="save-sheet">Save</button>
                <button class="load-sheet">Load</button>
            </div>
        </div>

        <!-- BASIC INFO -->
        <section class="basic-info">
            <div class="left">
                <div class="field-group">
                    <label>Name</label>
                    <input name="name" type="text" value="Character Name" class="field-input" />
                </div>

                <div class="field-group">
                    <label>Class(es)</label>
                    <div class="class-list">
                        <div class="class-row">Jedi Knight (lvl 5)</div>
                        <!-- Handlebars: {{#each system.classes}} -->
                    </div>
                </div>
            </div>

            <div class="middle">
                <div class="field-group">
                    <label>Level</label>
                    <input type="number" name="system.level" value="5" class="field-input" />
                </div>

                <div class="field-group">
                    <label>Species</label>
                    <select name="system.race" class="field-input">
                        <option value="human" selected>Human</option>
                        <option value="twilek">Twi'lek</option>
                        <option value="wookiee">Wookiee</option>
                        <option value="zabrak">Zabrak</option>
                        <option value="bothan">Bothan</option>
                        <!-- Handlebars: {{#each races}} -->
                    </select>
                </div>
            </div>

            <div class="right">
                <div class="field-group">
                    <label>Destiny Points</label>
                    <input type="number" name="system.destinyPoints.value" value="1" class="tiny-input" />
                </div>

                <div class="field-group">
                    <label>XP</label>
                    <input type="number" name="system.experience" value="10000" class="field-input" />
                </div>
            </div>
        </section>

        <!-- MAIN LAYOUT -->
        <section class="main-layout">
            <!-- Left: Abilities -->
            <aside class="abilities-box">
                <div class="section-title">Abilities</div>
                
                <!-- Handlebars will loop: {{#each system.abilities}} -->
                <div class="ability-row">
                    <div class="ability-label">STR</div>
                    <input type="number" name="system.abilities.str.base" value="14" class="ability-input" />
                    <div class="ability-total">Tot: 14</div>
                    <div class="ability-mod">Mod: +2</div>
                </div>

                <div class="ability-row">
                    <div class="ability-label">DEX</div>
                    <input type="number" name="system.abilities.dex.base" value="16" class="ability-input" />
                    <div class="ability-total">Tot: 16</div>
                    <div class="ability-mod">Mod: +3</div>
                </div>

                <div class="ability-row">
                    <div class="ability-label">CON</div>
                    <input type="number" name="system.abilities.con.base" value="12" class="ability-input" />
                    <div class="ability-total">Tot: 12</div>
                    <div class="ability-mod">Mod: +1</div>
                </div>

                <div class="ability-row">
                    <div class="ability-label">INT</div>
                    <input type="number" name="system.abilities.int.base" value="10" class="ability-input" />
                    <div class="ability-total">Tot: 10</div>
                    <div class="ability-mod">Mod: +0</div>
                </div>

                <div class="ability-row">
                    <div class="ability-label">WIS</div>
                    <input type="number" name="system.abilities.wis.base" value="14" class="ability-input" />
                    <div class="ability-total">Tot: 14</div>
                    <div class="ability-mod">Mod: +2</div>
                </div>

                <div class="ability-row">
                    <div class="ability-label">CHA</div>
                    <input type="number" name="system.abilities.cha.base" value="13" class="ability-input" />
                    <div class="ability-total">Tot: 13</div>
                    <div class="ability-mod">Mod: +1</div>
                </div>
            </aside>

            <!-- Middle: Combat Stats -->
            <section class="combat-box">
                <div class="stat-row compact-halflvl">
                    <label>½ Level</label>
                    <div class="half-value">2</div>
                    <!-- Handlebars: {{mathFloor (div system.level 2)}} -->
                </div>

                <div class="hp-block">
                    <div class="hp-row">
                        <label>HP</label>
                        <input type="number" name="system.hp.value" value="58" class="hp-small" />
                        <span>/</span>
                        <input type="number" name="system.hp.max" value="58" class="hp-small" />
                        <label>Temp</label>
                        <input type="number" name="system.hp.temp" value="0" class="hp-small" />
                    </div>

                    <div class="hp-actions">
                        <label>Base Attack</label>
                        <input type="number" name="system.bab" value="5" class="tiny-input" />
                        <label>Speed</label>
                        <input type="number" name="system.speed.base" value="6" class="tiny-input" />
                    </div>
                </div>

                <div class="force-and-dt">
                    <div class="force-block">
                        <label>Force Points</label>
                        <input type="number" name="system.forcePoints.value" value="8" class="fp-small" />
                        <span>/</span>
                        <input type="number" name="system.forcePoints.max" value="8" class="fp-small" />
                        <select name="system.forcePoints.die" class="fp-die">
                            <option value="1d6" selected>1d6</option>
                            <option value="1d8">1d8</option>
                            <option value="1d10">1d10</option>
                        </select>
                        <div class="force-note">Base die used when spending FP</div>
                    </div>

                    <div class="dt-block">
                        <label>Damage Threshold</label>
                        <div class="dt-value">18</div>
                        <!-- Handlebars: {{damageThreshold}} -->
                        <label>Misc Modifier</label>
                        <input type="number" name="system.damageThresholdMisc" value="0" class="tiny-input" />
                    </div>
                </div>
            </section>

            <!-- Right: Defenses -->
            <aside class="combat-right">
                <div class="section-title">Defenses</div>
                
                <div class="def-row">
                    <label>FORTITUDE</label>
                    <div class="def-value">18</div>
                    <!-- Handlebars: {{system.defenses.fortitude.total}} -->
                </div>

                <div class="def-row">
                    <label>REFLEX</label>
                    <div class="def-value">21</div>
                    <!-- Handlebars: {{system.defenses.reflex.total}} -->
                </div>

                <div class="def-row">
                    <label>WILL</label>
                    <div class="def-value">19</div>
                    <!-- Handlebars: {{system.defenses.will.total}} -->
                </div>

                <div class="condition-box">
                    <label>Condition Track</label>
                    <select name="system.conditionTrack">
                        <option value="normal" selected>Normal</option>
                        <option value="-1">-1 (Minor)</option>
                        <option value="-2">-2 (Hurt)</option>
                        <option value="-5">-5 (Wounded)</option>
                        <option value="-10">-10 (Disabled)</option>
                        <option value="helpless">Helpless</option>
                    </select>
                </div>

                <div class="second-wind-box">
                    <div class="section-title">Second Wind</div>
                    <div style="margin-bottom: 8px;">Auto healing: <strong>25</strong></div>
                    <!-- Handlebars: {{system.secondWind.healing}} -->
                    <div class="field-group">
                        <label>Misc Modifier</label>
                        <input type="number" name="system.secondWind.misc" value="0" class="tiny-input" />
                    </div>
                    <div class="field-group">
                        <label>Uses</label>
                        <input type="number" name="system.secondWind.uses" value="1" class="tiny-input" />
                    </div>
                    <div class="field-group">
                        <label>Max/day</label>
                        <input type="number" name="system.secondWind.max" value="1" class="tiny-input" />
                    </div>
                    <button type="button" class="apply-second-wind">Take Second Wind</button>
                </div>
            </aside>
        </section>

        <!-- TABS -->
        <section class="tabs">
            <div class="tab-row">
                <button class="tab active" data-tab="armor">Armor & Equipment</button>
                <button class="tab" data-tab="feats">Feats & Talents</button>
                <button class="tab" data-tab="powers">Force Powers</button>
                <button class="tab" data-tab="weapons">Weapons</button>
            </div>

            <!-- ARMOR TAB -->
            <div class="tab-content armor active" id="armor-tab">
                <button class="add-armor">+ Add Armor</button>
                <div class="list-armor">
                    <div class="armor-entry">
                        <strong>Jedi Robes</strong> - Reflex: +5, Max Dex: —
                    </div>
                    <!-- Handlebars: {{#each items}} {{#if (eq this.type "armor")}} -->
                </div>
            </div>

            <!-- FEATS TAB -->
            <div class="tab-content feats" id="feats-tab">
                <button class="add-feat">+ Add Feat</button>
                <div class="feats-list">
                    <div class="feat-entry">
                        <strong>Weapon Proficiency (Lightsabers)</strong>
                    </div>
                    <div class="feat-entry">
                        <strong>Force Sensitivity</strong>
                    </div>
                    <!-- Handlebars: {{#each system.feats}} -->
                </div>
            </div>

            <!-- FORCE POWERS TAB -->
            <div class="tab-content powers" id="powers-tab">
                <button class="refresh-forcepowers">Refresh All Powers</button>
                
                <div class="forcepower-entry" data-item-id="item123">
                    <div class="power-header">Force Grip (2/3 uses)</div>
                    <button class="roll-forcepower">Use Power</button>
                    <button class="reload-forcepower">Reload (1 FP)</button>
                </div>

                <div class="forcepower-entry" data-item-id="item124">
                    <div class="power-header">Mind Trick (3/3 uses)</div>
                    <button class="roll-forcepower">Use Power</button>
                    <button class="reload-forcepower">Reload (1 FP)</button>
                </div>
                <!-- Handlebars: {{#each items}} {{#if (eq this.type "forcepower")}} -->
            </div>

            <!-- WEAPONS TAB -->
            <div class="tab-content weapons" id="weapons-tab">
                <button class="add-weapon">+ Add Weapon</button>
                
                <div class="weapon-entry" data-index="0">
                    <div><strong>Lightsaber</strong> — Damage: 2d8+2, Range: Melee</div>
                    <button class="roll-weapon">Attack Roll</button>
                </div>

                <div class="weapon-entry" data-index="1">
                    <div><strong>Blaster Pistol</strong> — Damage: 3d6, Range: 8 sq</div>
                    <button class="roll-weapon">Attack Roll</button>
                </div>
                <!-- Handlebars: {{#each system.weapons}} -->
            </div>
        </section>

        <footer class="sheet-footer">
            <small>Star Wars Saga Edition — Foundry VTT Compatible Sheet</small>
        </footer>
    </div>

    <script>
        // Tab switching functionality
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const targetTab = this.getAttribute('data-tab');
                
                // Remove active class from all tabs and content
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked tab and corresponding content
                this.classList.add('active');
                document.getElementById(targetTab + '-tab').classList.add('active');
            });
        });

        // Note: In Foundry VTT, button handlers like .save-sheet, .load-sheet, .add-armor, etc.
        // will be bound in the SWSEActorSheet.activateListeners() method
        // This standalone version includes minimal client-side functionality
    </script>
</body>
</html>