<div class="swse-sheet">
<!-- SWSE Character Generator Template - Fixed -->
<div class="chargen-app swse-chargen">
 <header class="chargen-header">
 <h2>Star Wars Saga Edition Character Generator</h2>
 <div class="step-indicator">Step: <strong>{{currentStep}}</strong></div>
 </header>

 <main class="chargen-body">
 {{#if (eq currentStep "name")}}
 <section class="step-name">
 <h3>Character Name & Level</h3>
 <div class="form-group">
 <label for="character-name">Enter your character's name:</label>
 <input
 id="character-name"
 name="character-name"
 type="text"
 class="chargen-name-input"
 value="{{characterData.name}}"
 placeholder="Enter name..."
 autofocus />
 </div>
 <div class="form-group">
 <label for="target-level-input">Starting Level:</label>
 <div class="level-selector">
 <input
 id="target-level-input"
 name="target-level"
 type="number"
 class="chargen-level-input"
 value="{{targetLevel}}"
 min="1"
 max="20"
 placeholder="1" />
 <span class="level-hint">Levels 2-20 will be automatically applied after character creation</span>
 </div>
 </div>
 <div class="form-actions">
 <button type="button" class="next-step btn-primary">
 Next <i class="fas fa-arrow-right"></i>
 </button>
 </div>
 </section>
 {{/if}}

 {{#if (eq currentStep "type")}}
 <section class="step-type">
 <h3>What are you?</h3>
 <p class="hint">Choose whether you're creating a living being or a droid character.</p>
 <div class="type-grid">
 <button type="button" class="select-type choice-button" data-type="living">
 <i class="fas fa-user"></i>
 <h4>Living Being</h4>
 <p>Organic species with unique traits</p>
 </button>
 <button type="button" class="select-type choice-button" data-type="droid">
 <i class="fas fa-robot"></i>
 <h4>Droid</h4>
 <p>Mechanical beings with specialized functions</p>
 </button>
 </div>
 <div class="form-actions">
 <button type="button" class="prev-step btn-secondary">
 <i class="fas fa-arrow-left"></i> Previous
 </button>
 </div>
 </section>
 {{/if}}

 {{#if (eq currentStep "degree")}}
 <section class="step-degree">
 <h3>Select Droid Degree</h3>
 <p class="hint">Choose your droid's classification and specialization.</p>

 <div class="import-option">
 <button type="button" class="import-droid-btn btn-primary">
 <i class="fas fa-download"></i> Import Existing Droid Type
 </button>
 <p class="import-hint">Or select a degree below to build from scratch</p>
 </div>

 <div class="degree-grid">
 {{#each droidDegrees}}
 <button type="button" class="select-degree choice-button" data-degree="{{this.key}}">
 <h4>{{this.name}}</h4>
 <div class="bonuses">{{this.bonuses}}</div>
 <p class="description">{{this.description}}</p>
 </button>
 {{/each}}
 </div>
 <div class="form-actions">
 <button type="button" class="prev-step btn-secondary">
 <i class="fas fa-arrow-left"></i> Previous
 </button>
 </div>
 </section>
 {{/if}}

 {{#if (eq currentStep "size")}}
 <section class="step-size">
 <h3>Select Droid Size</h3>
 <p class="hint">Size determines your Cost Factor, ability modifiers, and base statistics.</p>

 <div class="size-grid-full">
 <button type="button" class="select-size choice-button" data-size="tiny">
 <h4>Tiny</h4>
 <p><strong>CF:</strong> 5× | <strong>Mod:</strong> +4 DEX, -4 STR</p>
 <p><strong>Reflex:</strong> +2 | <strong>Stealth:</strong> +10</p>
 </button>

 <button type="button" class="select-size choice-button" data-size="small">
 <h4>Small</h4>
 <p><strong>CF:</strong> 2× | <strong>Mod:</strong> +2 DEX, -2 STR</p>
 <p><strong>Reflex:</strong> +1 | <strong>Stealth:</strong> +5</p>
 </button>

 <button type="button" class="select-size choice-button recommended" data-size="medium">
 <h4>Medium ★</h4>
 <p><strong>CF:</strong> 1× | <strong>Mod:</strong> None</p>
 <p>Recommended for players</p>
 </button>

 <button type="button" class="select-size choice-button" data-size="large">
 <h4>Large</h4>
 <p><strong>CF:</strong> 0.5× | <strong>Mod:</strong> +8 STR, -2 DEX</p>
 <p><strong>HP:</strong> +10 | <strong>DT:</strong> +5</p>
 </button>

 <button type="button" class="select-size choice-button" data-size="huge">
 <h4>Huge</h4>
 <p><strong>CF:</strong> 0.2× | <strong>Mod:</strong> +16 STR, -4 DEX</p>
 <p><strong>HP:</strong> +20 | <strong>DT:</strong> +10</p>
 </button>

 <button type="button" class="select-size choice-button" data-size="gargantuan">
 <h4>Gargantuan</h4>
 <p><strong>CF:</strong> 0.1× | <strong>Mod:</strong> +24 STR, -4 DEX</p>
 <p><strong>HP:</strong> +50 | <strong>DT:</strong> +20</p>
 </button>

 <button type="button" class="select-size choice-button" data-size="colossal">
 <h4>Colossal</h4>
 <p><strong>CF:</strong> 0.05× | <strong>Mod:</strong> +32 STR, -4 DEX</p>
 <p><strong>HP:</strong> +100 | <strong>DT:</strong> +50</p>
 </button>
 </div>

 <div class="form-actions">
 <button type="button" class="prev-step btn-secondary">
 <i class="fas fa-arrow-left"></i> Previous
 </button>
 </div>
 </section>
 {{/if}}

 {{#if (eq currentStep "species")}}
 <section class="step-species">
 <h3>Select Species</h3>
 <div class="species-grid">
 {{#each packs.species}}
 <button type="button" class="select-species choice-button" data-species="{{this.name}}">
 <h4>{{this.name}}</h4>
 {{#if this.system.bonuses}}
 <div class="bonuses">
 {{#each this.system.bonuses}}
 <span class="bonus">{{@key}}: {{this}}</span>
 {{/each}}
 </div>
 {{/if}}
 </button>
 {{/each}}
 </div>
 <div class="form-actions">
 <button type="button" class="prev-step btn-secondary">
 <i class="fas fa-arrow-left"></i> Previous
 </button>
 </div>
 </section>
 {{/if}}

 {{#if (eq currentStep "droid-builder")}}
 <section class="step-droid-builder">
 <h3>Build Your Droid</h3>
 <p class="hint">Customize your droid with systems and accessories.</p>

 <div class="droid-budget">
 <div class="budget-item">
 <strong>Base Credits:</strong> {{characterData.droidCredits.base}} cr
 </div>
 <div class="budget-item">
 <strong>Spent:</strong> <span class="spent-credits">{{characterData.droidSystems.totalCost}}</span> cr
 </div>
 <div class="budget-item">
 <strong>Remaining:</strong> <span class="remaining-credits">{{characterData.droidCredits.remaining}}</span> cr
 </div>
 <div class="budget-item">
 <strong>Weight:</strong> <span class="total-weight">{{characterData.droidSystems.totalWeight}}</span> kg
 </div>
 <div class="budget-item">
 <strong>Cost Factor:</strong> ×{{costFactor}}
 </div>
 </div>

 <div class="droid-builder-tabs">
 <nav class="builder-tabs">
 <button type="button" class="builder-tab active" data-tab="locomotion">
 <i class="fas fa-shoe-prints"></i> Locomotion <span class="required">*</span>
 </button>
 <button type="button" class="builder-tab" data-tab="processor">
 <i class="fas fa-microchip"></i> Processor <span class="required">*</span>
 </button>
 <button type="button" class="builder-tab" data-tab="appendages">
 <i class="fas fa-hand-paper"></i> Appendages <span class="required">*</span>
 </button>
 <button type="button" class="builder-tab" data-tab="accessories">
 <i class="fas fa-tools"></i> Accessories
 </button>
 </nav>

 <div class="builder-content">
 {{!-- Locomotion Tab --}}
 <div class="builder-panel active" data-panel="locomotion">
 <h4>Locomotion Systems</h4>
 <p class="panel-hint">Select at least one locomotion system. Additional systems increase in cost.</p>
 {{!-- Locomotion systems will be populated by JavaScript --}}
 <div id="locomotion-list" class="systems-list"></div>
 </div>

 {{!-- Processor Tab --}}
 <div class="builder-panel" data-panel="processor">
 <h4>Processor</h4>
 <p class="panel-hint">Heuristic Processor included free. You may upgrade or add additional processors.</p>
 <div id="processor-list" class="systems-list"></div>
 </div>

 {{!-- Appendages Tab --}}
 <div class="builder-panel" data-panel="appendages">
 <h4>Appendages</h4>
 <p class="panel-hint">Two hand appendages included free. You may add or modify appendages.</p>
 <div id="appendages-list" class="systems-list"></div>
 </div>

 {{!-- Accessories Tab --}}
 <div class="builder-panel" data-panel="accessories">
 <h4>Accessories</h4>
 <nav class="accessory-tabs">
 <button type="button" class="accessory-tab active" data-acc-tab="armor">Armor</button>
 <button type="button" class="accessory-tab" data-acc-tab="communications">Communications</button>
 <button type="button" class="accessory-tab" data-acc-tab="sensors">Sensors</button>
 <button type="button" class="accessory-tab" data-acc-tab="shields">Shields</button>
 <button type="button" class="accessory-tab" data-acc-tab="translators">Translators</button>
 <button type="button" class="accessory-tab" data-acc-tab="misc">Miscellaneous</button>
 </nav>
 <div class="accessory-content">
 <div class="accessory-panel active" data-acc-panel="armor">
 <div id="armor-list" class="accessories-list"></div>
 </div>
 <div class="accessory-panel" data-acc-panel="communications">
 <div id="communications-list" class="accessories-list"></div>
 </div>
 <div class="accessory-panel" data-acc-panel="sensors">
 <div id="sensors-list" class="accessories-list"></div>
 </div>
 <div class="accessory-panel" data-acc-panel="shields">
 <div id="shields-list" class="accessories-list"></div>
 </div>
 <div class="accessory-panel" data-acc-panel="translators">
 <div id="translators-list" class="accessories-list"></div>
 </div>
 <div class="accessory-panel" data-acc-panel="misc">
 <div id="misc-list" class="accessories-list"></div>
 </div>
 </div>
 </div>
 </div>
 </div>

 <div class="selected-systems">
 <h4>Selected Systems</h4>
 <div class="selected-list">
 <div class="selected-item default">
 <span class="item-name">Heuristic Processor</span>
 <span class="item-cost">Free</span>
 </div>
 <div class="selected-item default">
 <span class="item-name">Hand Appendage ×2</span>
 <span class="item-cost">Free</span>
 </div>
 {{!-- Additional selected items populated by JavaScript --}}
 <div id="selected-systems-list"></div>
 </div>
 </div>

 <div class="form-actions">
 <button type="button" class="prev-step btn-secondary">
 <i class="fas fa-arrow-left"></i> Previous
 </button>
 <button type="button" class="next-step btn-primary" id="droid-builder-next">
 Next <i class="fas fa-arrow-right"></i>
 </button>
 </div>
 </section>
 {{/if}}

 {{#if (eq currentStep "abilities")}}
 <section class="step-abilities">
 <h3>Generate Ability Scores</h3>
 <div class="ability-header">
 <button type="button" id="free-build-btn" class="free-build-button">
 <i class="fas fa-edit"></i> Free Build (Manual Entry)
 </button>
 <p class="method-hint">GM's Setting: <strong>{{methodLabels.[abilityMethod]}}</strong></p>
 </div>
 <div class="ability-methods">
 <button type="button" id="pb-init" class="method-button">
 <i class="fas fa-calculator"></i> Point Buy ({{pointBuyPool}} points)
 </button>
 <button type="button" id="std-roll-btn" class="method-button">
 <i class="fas fa-dice"></i> Standard Roll (4d6 drop lowest)
 </button>
 <button type="button" id="org-roll-btn" class="method-button">
 <i class="fas fa-dice-d20"></i> Organic Roll (24d6)
 </button>
 </div>

 <div id="point-mode" class="ability-mode">
 <div class="points-remaining">
 Points Remaining: <strong><span id="point-remaining">32</span></strong>
 </div>
 <div class="abilities-grid">
 {{#each characterData.abilities}}
 <div class="ability-card">
 <label>{{@key}}</label>
 <div class="ability-controls">
 <button type="button" class="ability-btn" data-minus="{{@key}}">−</button>
 <input name="ability_{{@key}}" class="ability-input" type="number" value="8" min="8" max="18" />
 <button type="button" class="ability-btn" data-plus="{{@key}}">+</button>
 </div>
 <div id="display_{{@key}}" class="ability-display">Total: 10 (Mod: +0)</div>
 </div>
 {{/each}}
 </div>
 </div>

 <div id="standard-mode" class="ability-mode" style="display:none;">
 <div id="roll-results" class="roll-results"></div>
 <p class="hint">Click a roll value, then click an ability to assign it.</p>
 </div>

 <div id="organic-mode" class="ability-mode" style="display:none;">
 <div id="organic-groups" class="organic-groups"></div>
 <p class="hint">Click a group, then click an ability to assign the total.</p>
 </div>

 <div id="free-mode" class="ability-mode" style="display:none;">
 <p class="hint">Manually enter any ability score values (3-25).</p>
 <div class="abilities-grid">
 {{#each characterData.abilities}}
 <div class="ability-card">
 <label>{{@key}}</label>
 <input name="ability_{{@key}}" class="ability-input free-input" type="number" value="10" min="3" max="25" />
 <div id="display_{{@key}}" class="ability-display">Total: 10 (Mod: +0)</div>
 </div>
 {{/each}}
 </div>
 </div>

 <div class="form-actions">
 <button type="button" class="prev-step btn-secondary">
 <i class="fas fa-arrow-left"></i> Previous
 </button>
 <button type="button" class="next-step btn-primary">
 Next <i class="fas fa-arrow-right"></i>
 </button>
 </div>
 </section>
 {{/if}}

 {{#if (eq currentStep "class")}}
 <section class="step-class">
 <h3>Choose Your Class</h3>
 <div class="class-grid">
 {{#each packs.classes}}
 <button type="button" class="select-class choice-button" data-class="{{this.name}}">
 <h4>{{this.name}}</h4>
 {{#if this.system}}
 <div class="class-info">
 <span>Hit Die: d{{this.system.hitDie}}</span>
 <span>BAB: {{this.system.babProgression}}</span>
 </div>
 {{/if}}
 </button>
 {{/each}}
 </div>
 <div class="form-actions">
 <button type="button" class="prev-step btn-secondary">
 <i class="fas fa-arrow-left"></i> Previous
 </button>
 </div>
 </section>
 {{/if}}

 {{#if (eq currentStep "feats")}}
 <section class="step-feats">
 <h3>Select Starting Feat</h3>
 <p class="help-text">All characters gain 1 general feat at 1st level.</p>

 <div class="feats-list">
 {{#each packs.feats}}
 <div class="feat-item">
 <button type="button" class="select-feat choice-button" data-featid="{{this._id}}">
 <h4>{{this.name}}</h4>
 {{#if this.system.description}}
 <p class="feat-description">{{this.system.description}}</p>
 {{/if}}
 {{#if this.system.prerequisites}}
 <p class="feat-prereqs"><strong>Prerequisites:</strong> {{this.system.prerequisites}}</p>
 {{/if}}
 </button>
 </div>
 {{/each}}
 </div>

 <div class="selected-feats">
 <h4>Selected Feats ({{characterData.feats.length}}/1)</h4>
 {{#each characterData.feats}}
 <div class="selected-feat">
 <span>{{this.name}}</span>
 <button type="button" class="remove-feat" data-featid="{{this._id}}">×</button>
 </div>
 {{/each}}
 </div>

 <div class="form-actions">
 <button type="button" class="prev-step btn-secondary">
 <i class="fas fa-arrow-left"></i> Previous
 </button>
 {{#if (gte characterData.feats.length 1)}}
 <button type="button" class="next-step btn-primary">
 Next <i class="fas fa-arrow-right"></i>
 </button>
 {{/if}}
 </div>
 </section>
 {{/if}}

 {{#if (eq currentStep "talents")}}
 <section class="step-talents">
 <h3>Select Starting Talent</h3>
 <p class="help-text">Select a talent from your class talent trees.</p>

 <div class="talents-list">
 {{#each packs.talents}}
 <div class="talent-item">
 <button type="button" class="select-talent choice-button" data-talentid="{{this._id}}">
 <h4>{{this.name}}</h4>
 {{#if this.system.tree}}
 <p class="talent-tree"><strong>Tree:</strong> {{this.system.tree}}</p>
 {{/if}}
 {{#if this.system.description}}
 <p class="talent-description">{{this.system.description}}</p>
 {{/if}}
 </button>
 </div>
 {{/each}}
 </div>

 <div class="selected-talents">
 <h4>Selected Talents ({{characterData.talents.length}}/1)</h4>
 {{#each characterData.talents}}
 <div class="selected-talent">
 <span>{{this.name}}</span>
 </div>
 {{/each}}
 </div>

 <div class="form-actions">
 <button type="button" class="prev-step btn-secondary">
 <i class="fas fa-arrow-left"></i> Previous
 </button>
 {{#if (gte characterData.talents.length 1)}}
 <button type="button" class="next-step btn-primary">
 Next <i class="fas fa-arrow-right"></i>
 </button>
 {{/if}}
 </div>
 </section>
 {{/if}}

 {{#if (eq currentStep "skills")}}
 <section class="step-skills">
 <h3>Select Trained Skills</h3>
 <p class="help-text">Select {{characterData.trainedSkillsAllowed}} trained skills from your class skill list.</p>

 <div class="skills-selection">
 {{#each availableSkills}}
 <div class="skill-checkbox">
 <label>
 <input type="checkbox"
 class="skill-select"
 data-skill="{{this.key}}"
 {{#if this.trained}}checked{{/if}}
 {{#if (gte ../characterData.trainedSkillsCount ../characterData.trainedSkillsAllowed)}}
 {{#unless this.trained}}disabled{{/unless}}
 {{/if}}>
 {{this.name}}
 </label>
 </div>
 {{/each}}
 </div>

 <div class="skills-summary">
 <p>Skills Selected: {{characterData.trainedSkillsCount}} / {{characterData.trainedSkillsAllowed}}</p>
 </div>

 <div class="form-actions">
 <button type="button" class="prev-step btn-secondary">
 <i class="fas fa-arrow-left"></i> Previous
 </button>
 {{#if (gte characterData.trainedSkillsCount characterData.trainedSkillsAllowed)}}
 <button type="button" class="next-step btn-primary">
 Next <i class="fas fa-arrow-right"></i>
 </button>
 {{/if}}
 </div>
 </section>
 {{/if}}

 {{#if (eq currentStep "summary")}}
 <section class="step-summary">
 <h3>Character Summary</h3>
 <div class="summary-grid">
 <div class="summary-section">
 <h4>Basic Information</h4>
 <dl>
 <dt>Name:</dt>
 <dd>{{characterData.name}}</dd>
 <dt>Species:</dt>
 <dd>{{characterData.species}}</dd>
 <dt>Level:</dt>
 <dd>{{characterData.level}}</dd>
 </dl>
 </div>
 
 <div class="summary-section">
 <h4>Ability Scores</h4>
 <dl>
 {{#each characterData.abilities}}
 <dt>{{@key}}:</dt>
 <dd>{{this.total}} ({{#if (gte this.mod 0)}}+{{/if}}{{this.mod}})</dd>
 {{/each}}
 </dl>
 </div>
 </div>
 
 <div class="form-actions">
 <button type="button" class="prev-step btn-secondary">
 <i class="fas fa-arrow-left"></i> Previous
 </button>
 <button type="button" class="finish btn-primary btn-success">
 <i class="fas fa-check"></i> Create Character
 </button>
 </div>
 </section>
 {{/if}}
 </main>
</div>

<style>
.chargen-app {
 font-family: "Roboto", Arial, sans-serif;
 background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
 color: #e4e4e4;
 border-radius: 8px;
 overflow: hidden;
}

.chargen-header {
 background: rgba(0, 0, 0, 0.3);
 padding: 1.5rem;
 border-bottom: 2px solid #0a74da;
 text-align: center;
}

.chargen-header h2 {
 margin: 0 0 0.5rem 0;
 color: #0a74da;
}

.step-indicator {
 font-size: 0.9rem;
 color: #aaa;
}

.chargen-body {
 padding: 2rem;
 min-height: 400px;
}

.form-group {
 margin-bottom: 1.5rem;
}

.form-group label {
 display: block;
 margin-bottom: 0.5rem;
 font-weight: bold;
 color: #0a74da;
}

.chargen-name-input {
 width: 100%;
 padding: 0.75rem;
 font-size: 1.1rem;
 border: 2px solid #0a74da;
 border-radius: 4px;
 background: rgba(255, 255, 255, 0.1);
 color: #fff;
}

.chargen-name-input:focus {
 outline: none;
 box-shadow: 0 0 10px rgba(10, 116, 218, 0.5);
}

.chargen-level-input {
 width: 100px;
 padding: 0.75rem;
 font-size: 1.1rem;
 border: 2px solid #0a74da;
 border-radius: 4px;
 background: rgba(255, 255, 255, 0.1);
 color: #fff;
 text-align: center;
}

.chargen-level-input:focus {
 outline: none;
 box-shadow: 0 0 10px rgba(10, 116, 218, 0.5);
}

.level-selector {
 display: flex;
 align-items: center;
 gap: 1rem;
}

.level-hint {
 font-size: 0.85rem;
 color: #aaa;
 font-style: italic;
}

.form-actions {
 display: flex;
 justify-content: space-between;
 margin-top: 2rem;
 gap: 1rem;
}

.btn-primary, .btn-secondary {
 padding: 0.75rem 1.5rem;
 font-size: 1rem;
 font-weight: bold;
 border: none;
 border-radius: 4px;
 cursor: pointer;
 transition: all 0.3s;
}

.btn-primary {
 background: linear-gradient(135deg, #0a74da 0%, #0056b3 100%);
 color: white;
}

.btn-primary:hover {
 transform: translateY(-2px);
 box-shadow: 0 4px 12px rgba(10, 116, 218, 0.4);
}

.btn-secondary {
 background: linear-gradient(135deg, #555 0%, #333 100%);
 color: white;
}

.btn-secondary:hover {
 background: linear-gradient(135deg, #666 0%, #444 100%);
}

.type-grid {
 display: grid;
 grid-template-columns: repeat(2, 1fr);
 gap: 2rem;
 max-width: 600px;
 margin: 2rem auto;
}

.type-grid .choice-button {
 padding: 2rem;
 min-height: 150px;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 gap: 0.5rem;
}

.type-grid .choice-button i {
 font-size: 3rem;
 margin-bottom: 0.5rem;
}

.import-option {
 text-align: center;
 margin: 2rem 0;
 padding: 1.5rem;
 background: rgba(0, 217, 255, 0.1);
 border: 2px dashed #00d9ff;
 border-radius: 8px;
}

.import-option .import-droid-btn {
 padding: 1rem 2rem;
 font-size: 1.1rem;
 margin-bottom: 0.5rem;
}

.import-hint {
 margin: 0.5rem 0 0 0;
 font-size: 0.9rem;
 color: #aaa;
 font-style: italic;
}

.degree-grid {
 display: grid;
 grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
 gap: 1rem;
}

.degree-grid .choice-button {
 padding: 1.5rem;
 min-height: 160px;
 display: flex;
 flex-direction: column;
}

.degree-grid .bonuses {
 margin: 0.5rem 0;
 padding: 0.5rem;
 background: rgba(10, 116, 218, 0.2);
 border-radius: 4px;
 font-size: 0.9rem;
 font-weight: bold;
}

.degree-grid .description {
 margin-top: 0.5rem;
 font-size: 0.85rem;
 color: #aaa;
 font-style: italic;
}

.species-grid, .class-grid {
 display: grid;
 grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
 gap: 1rem;
}

.choice-button {
 padding: 1rem;
 background: rgba(255, 255, 255, 0.05);
 border: 2px solid #0a74da;
 border-radius: 8px;
 color: #fff;
 cursor: pointer;
 transition: all 0.3s;
}

.choice-button:hover {
 background: rgba(10, 116, 218, 0.2);
 transform: translateY(-4px);
 box-shadow: 0 6px 16px rgba(10, 116, 218, 0.3);
}

.ability-header {
 display: flex;
 justify-content: space-between;
 align-items: center;
 margin-bottom: 1rem;
 padding: 1rem;
 background: rgba(0, 0, 0, 0.2);
 border-radius: 6px;
}

.free-build-button {
 padding: 0.75rem 1.5rem;
 background: linear-gradient(135deg, #00d9ff 0%, #0a74da 100%);
 border: none;
 border-radius: 4px;
 color: white;
 font-weight: bold;
 cursor: pointer;
 transition: all 0.3s;
}

.free-build-button:hover {
 transform: translateY(-2px);
 box-shadow: 0 4px 12px rgba(0, 217, 255, 0.4);
}

.method-hint {
 margin: 0;
 color: #aaa;
 font-size: 0.9rem;
}

.method-hint strong {
 color: #00d9ff;
}

.ability-methods {
 display: flex;
 gap: 1rem;
 margin-bottom: 1.5rem;
}

.method-button {
 flex: 1;
 padding: 0.75rem;
 background: rgba(255, 255, 255, 0.05);
 border: 2px solid #0a74da;
 border-radius: 6px;
 color: #fff;
 cursor: pointer;
 transition: all 0.3s;
}

.method-button:hover {
 background: rgba(10, 116, 218, 0.2);
 transform: translateY(-2px);
}

.abilities-grid {
 display: grid;
 grid-template-columns: repeat(3, 1fr);
 gap: 1rem;
}

.ability-card {
 background: rgba(255, 255, 255, 0.05);
 padding: 1rem;
 border-radius: 6px;
 border: 1px solid #0a74da;
}

.ability-controls {
 display: flex;
 align-items: center;
 gap: 0.5rem;
 margin: 0.5rem 0;
}

.ability-btn {
 width: 30px;
 height: 30px;
 background: #0a74da;
 border: none;
 border-radius: 4px;
 color: white;
 font-size: 1.2rem;
 cursor: pointer;
}

.ability-input {
 flex: 1;
 text-align: center;
 padding: 0.5rem;
 background: rgba(255, 255, 255, 0.1);
 border: 1px solid #0a74da;
 border-radius: 4px;
 color: #fff;
}

.ability-display {
 text-align: center;
 margin-top: 0.5rem;
 font-size: 0.9rem;
 color: #aaa;
}
</style>

</div><!-- swse-sheet -->