<div class="tab abilities-tab" data-group="primary" data-tab="abilities">
 <div class="section-header-with-button">
  <h3 class="section-header">Ability Scores</h3>
  <button class="roll-attributes-btn" type="button" title="Roll for attributes using the progression system">
   <i class="fas fa-dice-d20"></i> Roll for Attributes
  </button>
 </div>

 <div class="abilities-grid">
 {{#each system.attributes as |ability key|}}
 <div class="ability-row{{#if (and @root.system.isDroid (eq key 'con'))}} droid-no-con{{/if}}">
 <label class="ability-label">
 {{upper key}}
 {{#if (and @root.system.isDroid (eq key 'con'))}}
 <span class="droid-note" title="Droids have no Constitution score">—</span>
 {{/if}}
 </label>

 <div class="ability-inputs flexrow">
 <input type="number"
 name="system.attributes.{{key}}.base"
 value="{{ability.base}}"
 data-dtype="Number"
 placeholder="10"
 title="Base Score"
 {{#if (and @root.system.isDroid (eq key 'con'))}}disabled{{/if}}/>

 <span>+</span>

 <input type="number"
 name="system.attributes.{{key}}.racial"
 value="{{ability.racial}}"
 data-dtype="Number"
 placeholder="0"
 title="Racial Modifier"
 {{#if (and @root.system.isDroid (eq key 'con'))}}disabled{{/if}}/>

 <span>+</span>

 <input type="number"
 name="system.attributes.{{key}}.enhancement"
 value="{{ability.enhancement}}"
 data-dtype="Number"
 placeholder="0"
 title="Enhancement Bonus"
 {{#if (and @root.system.isDroid (eq key 'con'))}}disabled{{/if}}/>

 <span>=</span>

 <div class="ability-total">
 {{#if (and @root.system.isDroid (eq key 'con'))}}—{{else}}{{ability.total}}{{/if}}
 </div>
 </div>

 <div class="ability-mod rollable"
 data-roll="1d20+@attributes.{{key}}.mod"
 data-label="{{upper key}} Check">
 {{#if (and @root.system.isDroid (eq key 'con'))}}—{{else}}{{numberFormat (safeNumber ability.mod) sign=true}}{{/if}}
 </div>
 </div>
 {{/each}}
 </div>
</div>
