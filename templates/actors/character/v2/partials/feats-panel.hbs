<div class="holo-panel">
  <div class="section-bar">
    <h3 class="section-header">Feats</h3>
    <button type="button" data-action="add-feat" class="swse-btn" style="padding: 4px 8px; font-size: 0.85em;">+ Add Feat</button>
  </div>

  {{#if derived.feats.groups.length}}
    <div class="feats-by-type">
      {{#each derived.feats.groups as |typeGroup|}}
        <div class="feat-type-group" style="margin-bottom: 12px;">
          <div class="feat-type-label" style="font-size: 0.75rem; text-transform: uppercase; opacity: 0.6; margin-bottom: 6px; font-weight: bold;">
            {{typeGroup.label}} ({{typeGroup.count}})
          </div>
          <div class="feat-cards" style="display: flex; flex-wrap: wrap; gap: 8px;">
            {{#each typeGroup.items as |feat|}}
              <div class="feat-card"
                   data-item-id="{{feat.id}}"
                   data-toggle="expand"
                   style="width: 180px; border: 1px solid #ddd; border-radius: 8px; background: #f9f9f9; padding: 8px; cursor: pointer; transition: all 0.2s; min-height: 40px;">

                <div class="feat-card-header" style="font-weight: bold; margin-bottom: 4px; word-break: break-word;">
                  {{feat.name}}
                </div>

                <div class="feat-card-meta" style="font-size: 0.7rem; opacity: 0.7; margin-bottom: 4px;">
                  <span class="tag">{{feat.featTypeLabel}}</span>
                </div>

                <div class="feat-card-preview" style="font-size: 0.75rem; opacity: 0.85; line-height: 1.3;">
                  {{feat.summary}}
                </div>

                <div class="feat-card-actions" style="margin-top: 6px; display: flex; gap: 4px; opacity: 0;">
                  <button type="button" class="delete-feat" data-action="delete-feat" data-item-id="{{feat.id}}" style="flex: 1; padding: 3px 4px; font-size: 0.7em; background: #cc0000; color: white; border: none; border-radius: 3px; cursor: pointer;">
                    Delete
                  </button>
                </div>
              </div>
            {{/each}}
          </div>
        </div>
      {{/each}}
    </div>
  {{else}}
    <div class="muted" style="padding:6px 0;">No feats.</div>
  {{/if}}
</div>
