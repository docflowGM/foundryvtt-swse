{{!-- Starship Maneuvers Panel Partial --}}
{{!-- Displays ability cards for Starship Maneuvers learned by the character --}}

<div class="maneuvers-panel">
  {{#if maneuvers.organized}}
    {{!-- Attack Patterns Section --}}
    {{#if maneuvers.organized.attackPatterns.length}}
      <div class="maneuver-category">
        <div class="category-header">
          <i class="{{getIconClass 'cube'}}"></i>
          <h4>Attack Patterns</h4>
          <span class="category-count">{{maneuvers.organized.attackPatterns.length}}</span>
        </div>
        <div class="category-cards">
          {{#each maneuvers.organized.attackPatterns}}
            {{> "systems/foundryvtt-swse/templates/partials/ability-card.hbs" this context="starship-maneuver"}}
          {{/each}}
        </div>
      </div>
    {{/if}}

    {{!-- Dogfight Maneuvers Section --}}
    {{#if maneuvers.organized.dogfight.length}}
      <div class="maneuver-category">
        <div class="category-header">
          <i class="{{getIconClass 'target'}}"></i>
          <h4>Dogfight Maneuvers</h4>
          <span class="category-count">{{maneuvers.organized.dogfight.length}}</span>
        </div>
        <div class="category-cards">
          {{#each maneuvers.organized.dogfight}}
            {{> "systems/foundryvtt-swse/templates/partials/ability-card.hbs" this context="starship-maneuver"}}
          {{/each}}
        </div>
      </div>
    {{/if}}

    {{!-- Force Maneuvers Section --}}
    {{#if maneuvers.organized.force.length}}
      <div class="maneuver-category">
        <div class="category-header">
          <i class="{{getIconClass 'yinYang'}}"></i>
          <h4>Force Maneuvers</h4>
          <span class="category-count">{{maneuvers.organized.force.length}}</span>
        </div>
        <div class="category-cards">
          {{#each maneuvers.organized.force}}
            {{> "systems/foundryvtt-swse/templates/partials/ability-card.hbs" this context="starship-maneuver"}}
          {{/each}}
        </div>
      </div>
    {{/if}}

    {{!-- Gunner Maneuvers Section --}}
    {{#if maneuvers.organized.gunner.length}}
      <div class="maneuver-category">
        <div class="category-header">
          <i class="{{getIconClass 'gun'}}"></i>
          <h4>Gunner Maneuvers</h4>
          <span class="category-count">{{maneuvers.organized.gunner.length}}</span>
        </div>
        <div class="category-cards">
          {{#each maneuvers.organized.gunner}}
            {{> "systems/foundryvtt-swse/templates/partials/ability-card.hbs" this context="starship-maneuver"}}
          {{/each}}
        </div>
      </div>
    {{/if}}

    {{!-- General Maneuvers Section --}}
    {{#if maneuvers.organized.general.length}}
      <div class="maneuver-category">
        <div class="category-header">
          <i class="{{getIconClass 'fighterJet'}}"></i>
          <h4>General Maneuvers</h4>
          <span class="category-count">{{maneuvers.organized.general.length}}</span>
        </div>
        <div class="category-cards">
          {{#each maneuvers.organized.general}}
            {{> "systems/foundryvtt-swse/templates/partials/ability-card.hbs" this context="starship-maneuver"}}
          {{/each}}
        </div>
      </div>
    {{/if}}
  {{else}}
    {{!-- Fallback: Display all maneuvers if not organized --}}
    <div class="category-cards">
      {{#each maneuvers.maneuvers}}
        {{> "systems/foundryvtt-swse/templates/partials/ability-card.hbs" this context="starship-maneuver"}}
      {{/each}}
    </div>
  {{/if}}
</div>

